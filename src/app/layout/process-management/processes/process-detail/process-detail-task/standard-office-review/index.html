<div fxFlex fxLayout="column">
	<div class="task-info" fxLayout="row" fxLayoutAlign="start start">
		<div class="title">审核人：{{task.createdBy.staff.fullName}}</div>
		<div class="title">审核时间：{{task.createdAt | date: 'yyyy-MM-dd HH:mm:ss'}}</div>
	</div>
	<div class="title">审查意见表</div>
	<ux-table-container>
		<mat-table #table [dataSource]="dataSource">
			<ng-container matColumnDef="content">
			  <mat-header-cell *matHeaderCellDef> 意见内容 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.content}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="reason">
			  <mat-header-cell *matHeaderCellDef> 处理意见及理由 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.reason}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="createdBy">
			  <mat-header-cell *matHeaderCellDef> 填写人 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.createdBy.staff.fullName}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="createdAt">
			  <mat-header-cell *matHeaderCellDef> 填写时间 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.createdAt | date: 'yyyy-MM-dd HH:mm:ss'}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="adopted">
			  <mat-header-cell *matHeaderCellDef> 是否采纳 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.adopted ? '是' : '否'}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="adoptedReason">
			  <mat-header-cell *matHeaderCellDef> 采纳理由 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.adoptedReason}} </mat-cell>
			</ng-container>

			<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
			<mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

		</mat-table>
	</ux-table-container>

	<div class="title">标准列表</div>
	<ux-table-container>
		<mat-table #table [dataSource]="standardRevisions">
			<ng-container matColumnDef="type">
			  <mat-header-cell *matHeaderCellDef> 标准类型 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.type}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="standardNo">
			  <mat-header-cell *matHeaderCellDef> 标准编号 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.standard.no}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="standardName">
			  <mat-header-cell *matHeaderCellDef> 标准名称 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.standard.name}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="standardSystem">
			  <mat-header-cell *matHeaderCellDef> 标准体系 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.standardSystem.name}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="department">
			  <mat-header-cell *matHeaderCellDef> 归口部门 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.department.name}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="drafter">
			  <mat-header-cell *matHeaderCellDef> 起草人 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.drafter.name}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="finishTime">
			  <mat-header-cell *matHeaderCellDef> 完成日期 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> {{row.finishTime}} </mat-cell>
			</ng-container>

			<ng-container matColumnDef="actions">
			  <mat-header-cell *matHeaderCellDef> 操作 </mat-header-cell>
			  <mat-cell *matCellDef="let row"> 
			  	<button mat-icon-button matTooltip="下载" [disabled]="!row.preparationNote">
			  	  <mat-icon>file_download</mat-icon>
			  	</button>
			  </mat-cell>
			</ng-container>

			<mat-header-row *matHeaderRowDef="standardColumns"></mat-header-row>
			<mat-row *matRowDef="let row; columns: standardColumns;"></mat-row>

		</mat-table>
	</ux-table-container>
</div>
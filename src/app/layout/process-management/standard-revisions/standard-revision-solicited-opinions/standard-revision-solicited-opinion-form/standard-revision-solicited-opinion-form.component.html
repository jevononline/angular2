<form novalidate autocomplete="off" (ngSubmit)="onSubmit()" #form="ngForm">
  <mat-dialog-content>

    <div class="form-group">
      <mat-form-field class="is-full">
        <input matInput placeholder="提出人" name="createdBy" disabled [value]="model.createdBy?.staff?.fullName">
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field>
        <input matInput placeholder="章或条" name="pointer" required [disabled]="!hasLevel(1)" [(ngModel)]="model.pointer" #pointer="ngModel">
        <mat-error *ngIf="pointer.errors?.required">
          章或条必填
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field class="is-full">
        <textarea matInput placeholder="原文规定" name="src" required [disabled]="!hasLevel(1)" [(ngModel)]="model.src" #src="ngModel"></textarea>
        <mat-error *ngIf="src.errors?.required">
          原文规定必填
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field class="is-full">
        <textarea matInput placeholder="修改意见" name="content" required [disabled]="!hasLevel(1)" [(ngModel)]="model.content" #content="ngModel"></textarea>
        <mat-error *ngIf="content.errors?.required">
          意见内容必填
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-group" *ngIf="hasLevel(2)">
      <label>是否采纳</label>
      <mat-radio-group name="adopted" required [(ngModel)]="model.adopted">
        <mat-radio-button [value]="true">是</mat-radio-button>
        <mat-radio-button [value]="false">否</mat-radio-button>
      </mat-radio-group>
    </div>

    <div class="form-group" *ngIf="hasLevel(2)">
      <mat-form-field class="is-full">
        <textarea matInput placeholder="理由" name="adoptedReason" required [(ngModel)]="model.adoptedReason" #adoptedReason="ngModel"></textarea>
        <mat-error *ngIf="adoptedReason.errors?.required">
          理由必填
        </mat-error>
      </mat-form-field>
    </div>


  </mat-dialog-content>
  <mat-dialog-actions>
    <button type="submit" mat-raised-button color="primary" [disabled]="form.pristine || form.invalid || submitting">确定</button>
    <button type="button" mat-button mat-dialog-close>取消</button>
  </mat-dialog-actions>
</form>
